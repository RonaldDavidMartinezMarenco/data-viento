<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - DataViento</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="static/data_viento.png">
    <link rel="shortcut icon" type="image/png" href="static/data_viento.png">
    
    
    <!-- Styles - FIXED: Use only existing CSS files -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <!-- Dashboard Container -->
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="dashboard-title">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        </svg>
                        DataViento Dashboard
                    </h1>
                </div>
                
                <div class="header-right">
                    <div class="user-info">
                        <div class="user-avatar">
                            <span id="userInitials">U</span>
                        </div>
                        <div class="user-details">
                            <p class="user-name" id="userName">Loading...</p>
                            <p class="user-email" id="userEmail">Loading...</p>
                        </div>
                    </div>
                    
                    <button id="logoutButton" class="btn btn-secondary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                            <polyline points="16 17 21 12 16 7"></polyline>
                            <line x1="21" y1="12" x2="9" y2="12"></line>
                        </svg>
                        Logout
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="dashboard-main">
            <!-- Sidebar Navigation -->
            <aside class="dashboard-sidebar">
                <nav class="sidebar-nav">
                    <h3 class="sidebar-title">Weather Models</h3>
                    
                    <ul class="sidebar-menu">
                        <!-- Overview - Dashboard Grid -->
                        <li class="sidebar-item active" data-section="overview">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                            <span>Overview</span>
                        </li>
                        
                        <!-- Weather - Sun behind cloud -->
                        <li class="sidebar-item" data-section="weather">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="4"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                            <span>Weather Forecast</span>
                        </li>
                        
                        <!-- Air Quality - Wind particles -->
                        <li class="sidebar-item" data-section="air-quality">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>
                            </svg>
                            <span>Air Quality</span>
                        </li>
                        
                        <!-- Marine - Waves -->
                        <li class="sidebar-item" data-section="marine">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M2 12c0-2.8 2.2-5 5-5s5 2.2 5 5 2.2 5 5 5 5-2.2 5-5"></path>
                                <path d="M2 17c0-2.2 1.8-4 4-4s4 1.8 4 4 1.8 4 4 4 4-1.8 4-4"></path>
                            </svg>
                            <span>Marine Weather</span>
                        </li>
                        
                        <!-- Satellite - Satellite dish -->
                        <li class="sidebar-item" data-section="satellite">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path>
                            </svg>
                            <span>Satellite Radiation</span>
                        </li>
                        
                        <!-- Climate - Globe with temperature -->
                        <li class="sidebar-item" data-section="climate">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="2" y1="12" x2="22" y2="12"></line>
                                <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                            </svg>
                            <span>Climate Change</span>
                        </li>
                        
                        <li class="sidebar-divider"></li>
                        
                        <!-- Settings - Classic gear/cog -->
                        <li class="sidebar-item" data-section="settings">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path>
                                <circle cx="12" cy="12" r="3"></circle>
                            </svg>
                            <span>Settings</span>
                        </li>
                    </ul>
                </nav>
            </aside>
            
            <div class="dashboard-content">

                <div class="location-selector-bar">
                    <div class="selector-content">
                        <label for="activeLocationSelect">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                <circle cx="12" cy="10" r="3"></circle>
                            </svg>
                            <span>Viewing data for:</span>
                        </label>
                        <select id="activeLocationSelect" class="location-select">
                            <option value="">Loading locations...</option>
                        </select>
                        <button id="refreshDataBtn" class="btn btn-secondary btn-sm">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                            </svg>
                            Refresh Data
                        </button>
                    </div>
                </div>
                
                <!-- Overview Section (default) -->
                <section id="section-overview" class="content-section active">
                    <!-- Welcome Section -->
                    <div class="welcome-section">
                        <h2>Welcome back, <span id="welcomeName">User</span>! üëã</h2>
                        <p>You have successfully logged in to DataViento.</p>
                    </div>
                    
                    <!-- Stats Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(102, 126, 234, 0.1);">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#667eea" stroke-width="2">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3>User ID</h3>
                                <p id="statUserId">-</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(79, 172, 254, 0.1);">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#4facfe" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                    <circle cx="12" cy="10" r="3"></circle>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3>Account Type</h3>
                                <p id="statUserType">-</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(250, 208, 44, 0.1);">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fad02c" stroke-width="2">
                                    <path d="M12 2v20M2 12h20"></path>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3>Preferred Units</h3>
                                <p id="statUnits">-</p>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: rgba(56, 249, 215, 0.1);">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#38f9d7" stroke-width="2">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                            </div>
                            <div class="stat-info">
                                <h3>Account Status</h3>
                                <p id="statStatus">-</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- User Data Section -->
                    <div class="user-data-section">
                        <h3>Your Account Information</h3>
                        <div class="data-table">
                            <div class="data-row">
                                <span class="data-label">User ID:</span>
                                <span class="data-value" id="dataUserId">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Username:</span>
                                <span class="data-value" id="dataUsername">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Email:</span>
                                <span class="data-value" id="dataEmail">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Full Name:</span>
                                <span class="data-value" id="dataFullName">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">User Type:</span>
                                <span class="data-value" id="dataUserType">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Preferred Units:</span>
                                <span class="data-value" id="dataUnits">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Account Created:</span>
                                <span class="data-value" id="dataCreated">-</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Last Updated:</span>
                                <span class="data-value" id="dataUpdated">-</span>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Find this section and REPLACE it: -->
                <!-- Weather Section -->
                <section id="section-weather" class="content-section">
                    <h2>‚õÖ Weather Forecast</h2>
                    <p class="section-description">Current weather and forecast data</p>
                    
                    <!-- Current Weather Cards -->
                    <div class="current-weather-section">
                        <h3>Current Conditions</h3>
                        <div id="currentWeatherCards" class="current-weather-grid">
                            <div class="loading-spinner">Loading current weather...</div>
                        </div>
                    </div>
                    
                    <!-- Daily Forecast Charts -->
                    <div class="charts-section-header">
                        <h3>üìÖ 7-Day Forecast</h3>
                    </div>
                    <div class="charts-grid">
                        <!-- Chart 1: Temperature (EXISTING) -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üå°Ô∏è Daily Temperature</h3>
                                <p class="chart-subtitle">Daily max, mean, and min temperatures</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherTempChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 2: Precipitation (EXISTING) -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>üåßÔ∏è Precipitation Forecast</h3>
                                <p class="chart-subtitle">Daily precipitation amount and probability</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherPrecipChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 3: Wind & Gusts (EXISTING) -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>üí® Wind & Gusts</h3>
                                <p class="chart-subtitle">Daily max wind speed and gusts</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherWindChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 4: UV Index & Sunshine (EXISTING) -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>‚òÄÔ∏è UV Index & Sunshine Duration</h3>
                                <p class="chart-subtitle">Daily UV index and hours of sunshine</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherUvChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Hourly Forecast Charts (NEW) -->
                    <div class="charts-section-header">
                        <h3>‚è∞ 24-Hour Forecast</h3>
                    </div>
                    <div class="charts-grid">
                        <!-- Chart 5: Hourly Temperature & Humidity -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>üå°Ô∏è Temperature & Humidity (24h)</h3>
                                <p class="chart-subtitle">Hourly temperature and relative humidity</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherHourlyTempChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 6: Hourly Precipitation -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>üåßÔ∏è Precipitation (24h)</h3>
                                <p class="chart-subtitle">Hourly precipitation amount and probability</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherHourlyPrecipChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 7: Hourly Wind Speed (Full Width) -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üí® Wind Speed & Direction (24h)</h3>
                                <p class="chart-subtitle">Hourly wind speed and direction</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="weatherHourlyWindChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Air Quality Section -->
                <section id="section-air-quality" class="content-section">
                    <h2>üå´Ô∏è Air Quality</h2>
                    <p class="section-description">Current air quality and pollutant levels</p>
                    
                    <!-- Current Air Quality Cards -->
                    <div class="current-weather-section">
                        <h3>Current Air Quality</h3>
                        <div id="currentAirQualityCards" class="current-weather-grid">
                            <!-- Loading state -->
                            <div class="loading-spinner">Loading air quality data...</div>
                        </div>
                    </div>
                    
                    <!-- Charts Grid -->
                    <div class="charts-grid">
                        <!-- Chart 1: AQI Trends (24 hours) -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>üìä AQI Trends (24 Hours)</h3>
                                <p class="chart-subtitle">European vs US Air Quality Index</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="airQualityAqiChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 2: Major Pollutants -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>üî¨ Major Pollutants (24 Hours)</h3>
                                <p class="chart-subtitle">PM2.5, PM10, NO2, O3</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="airQualityPollutantsChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 3: Secondary Pollutants (Full Width) -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>‚öóÔ∏è Secondary Pollutants (24 Hours)</h3>
                                <p class="chart-subtitle">SO2 and CO levels</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="airQualitySecondaryChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Marine Section -->
                <section id="section-marine" class="content-section">
                    <h2>üåä Marine Weather</h2>
                    <p class="section-description">Wave height, ocean temperature, and currents</p>
                    
                    <!-- Current Marine Conditions Cards -->
                    <div class="current-weather-section">
                        <h3>Current Marine Conditions</h3>
                        <div id="currentMarineCards" class="current-weather-grid">
                            <!-- Loading state -->
                            <div class="loading-spinner">Loading marine data...</div>
                        </div>
                    </div>
                    
                    <!-- Daily Forecast Charts -->
                    <div class="charts-section-header">
                        <h3>üìÖ Marine Forecast</h3>
                    </div>
                    <div class="charts-grid">
                        <!-- Chart 1: Daily Wave Heights -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üåä Wave Heights Forecast</h3>
                                <p class="chart-subtitle">Total, swell, and wind wave heights</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="marineDailyWaveChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 2: Wave Period & Direction -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>‚è±Ô∏è Wave Period & Direction</h3>
                                <p class="chart-subtitle">Daily max wave period and dominant direction</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="marineDailyPeriodChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Hourly Forecast Charts (NEW) -->
                    <div class="charts-section-header">
                        <h3>‚è∞ 24-Hour Marine Forecast</h3>
                    </div>
                    <div class="charts-grid">
                        <!-- Chart 3: Hourly Wave Heights -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üåä Wave Heights (24 Hours)</h3>
                                <p class="chart-subtitle">Hourly total, swell, and wind wave heights</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="marineHourlyWaveChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 4: Hourly Wave Period & Temperature -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>‚è±Ô∏è Wave Period & Sea Temperature (24h)</h3>
                                <p class="chart-subtitle">Hourly wave period and sea surface temperature</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="marineHourlyPeriodChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Satellite Section -->
                <section id="section-satellite" class="content-section">
                    <h2>üõ∞Ô∏è Solar Radiation</h2>
                    <p class="section-description">Satellite-derived solar radiation data for renewable energy</p>
                    
                    <!-- Daily Satellite Charts -->
                    <div class="charts-section-header">
                        <h3>üìÖ Historical Solar Radiation (Last N Days)</h3>
                    </div>
                    <div class="charts-grid">
                        <!-- Chart 1: Solar Radiation Components -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>‚òÄÔ∏è Solar Radiation Components</h3>
                                <p class="chart-subtitle">Shortwave, direct, and diffuse radiation over time</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="satelliteDailyRadiationChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 2: Irradiance & Terrestrial Radiation -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üåç Irradiance & Terrestrial Radiation</h3>
                                <p class="chart-subtitle">DNI, GTI, and terrestrial radiation measurements</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="satelliteDailyIrradianceChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Climate Section -->
                <!-- Climate Section -->
                <section id="section-climate" class="content-section">
                    <h2>üåç Climate Change Projections</h2>
                    <p class="section-description">Long-term climate trends and projections (2022-2026)</p>
                    
                    <!-- Climate Model Info -->
                    <div class="current-weather-section">
                        <h3>üìä Climate Model Information</h3>
                        <div id="climateModelInfo" class="climate-info-cards">
                            <div class="loading-spinner">Loading climate projection data...</div>
                        </div>
                    </div>
                    
                    <!-- Climate Projection Charts -->
                    <div class="charts-section-header">
                        <h3>üìà 5-Year Climate Trends (2022-2026)</h3>
                    </div>
                    <div class="charts-grid">
                        <!-- Chart 1: Temperature Trends -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üå°Ô∏è Temperature Trends (2022-2026)</h3>
                                <p class="chart-subtitle">Max, mean, and min temperatures over 5 years</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="climateTempTrendsChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 2: Precipitation & Humidity -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üåßÔ∏è Precipitation & Humidity Patterns</h3>
                                <p class="chart-subtitle">Annual precipitation and humidity trends</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="climatePrecipHumidityChart"></canvas>
                            </div>
                        </div>
                        
                        <!-- Chart 3: Wind & Solar Radiation -->
                        <div class="chart-card full-width">
                            <div class="chart-header">
                                <h3>üí® Wind Speed & Solar Radiation</h3>
                                <p class="chart-subtitle">Wind patterns and solar energy trends</p>
                            </div>
                            <div class="chart-canvas-wrapper">
                                <canvas id="climateWindRadiationChart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- Settings Section (moved from overview) -->
                <section id="section-settings" class="content-section">
                    <!-- Your existing Settings Section code goes here -->
                    <h3>‚öôÔ∏è Account Settings</h3>
                    
                    <!-- Location Management -->
                    <div class="settings-group">
                        <h4>üìç Favorite Locations</h4>
                        <p class="settings-description">
                            Select your favorite locations from the available cities. You can add up to 10 locations.
                        </p>
                        
                        <!-- Available Locations Dropdown -->
                        <div class="form-group">
                            <label for="locationSelect">Add Location:</label>
                            <select id="locationSelect" class="form-control">
                                <option value="">-- Select a city --</option>
                            </select>
                            <div style="margin-top: 10px;">
                                <label for="customLocationName">Custom Name (optional):</label>
                                <input 
                                    type="text" 
                                    id="customLocationName" 
                                    class="form-control" 
                                    placeholder="e.g., Home, Work, Beach House..."
                                    maxlength="50"
                                >
                                <small style="color: #718096; font-size: 0.85rem;">
                                    Leave empty to use city name
                                </small>
                            </div>
                            <button id="addLocationBtn" class="btn btn-primary" style="margin-top: 10px;">
                                Add Location
                            </button>
                        </div>
                        
                        <!-- User's Current Locations -->
                        <div class="user-locations">
                            <h5>Your Locations:</h5>
                            <div id="userLocationsList" class="locations-list">
                                <p class="loading-text">Loading locations...</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Unit Preferences -->
                    <div class="settings-group">
                        <h4>üìè Unit System</h4>
                        <p class="settings-description">
                            Choose your preferred unit system. Imperial automatically uses Fahrenheit, mph, and inches.
                        </p>
                        
                        <!-- Unit System Selector (Main) -->
                        <div class="form-group">
                            <label>Unit System:</label>
                            <div class="toggle-group">
                                <button id="unitMetric" class="toggle-btn active" data-system="metric">
                                    üåç Metric
                                </button>
                                <button id="unitImperial" class="toggle-btn" data-system="imperial">
                                    üá∫üá∏ Imperial
                                </button>
                            </div>
                            <small style="color: #718096; font-size: 0.85rem; margin-top: 8px; display: block;">
                                Metric: ¬∞C, km/h, mm | Imperial: ¬∞F, mph, inches
                            </small>
                        </div>
                        
                        <!-- Individual Unit Preferences (Auto-set based on system) -->
                        <div class="form-group" style="margin-top: 20px;">
                            <label>Individual Units (auto-configured):</label>
                            
                            <div style="margin-top: 10px;">
                                <strong>Temperature:</strong>
                                <span id="tempUnitDisplay" style="margin-left: 10px; color: #10b981;">Celsius (¬∞C)</span>
                            </div>
                            
                            <div style="margin-top: 8px;">
                                <strong>Wind Speed:</strong>
                                <span id="windUnitDisplay" style="margin-left: 10px; color: #10b981;">km/h</span>
                            </div>
                            
                            <div style="margin-top: 8px;">
                                <strong>Precipitation:</strong>
                                <span id="precipUnitDisplay" style="margin-left: 10px; color: #10b981;">Millimeters (mm)</span>
                            </div>
                        </div>
                        
                        <button id="savePreferencesBtn" class="btn btn-primary" style="margin-top: 15px;">
                            üíæ Save Unit Preferences
                        </button>
                    </div>
                    
                    <!-- Notification Settings -->
                    <div class="settings-group">
                        <h4>üîî Notifications</h4>
                        <p class="settings-description">
                            Enable or disable weather notifications.
                        </p>
                        
                        <div class="form-group">
                            <label class="toggle-label">
                                <input type="checkbox" id="notificationToggle">
                                <span>Enable weather notifications</span>
                            </label>
                        </div>
                    </div>
                    
                    <!-- Token Info (for debugging) -->
                    <div class="token-section">
                        <h3>Session Information</h3>
                        <div class="token-info">
                            <p><strong>Access Token:</strong></p>
                            <code id="accessToken">Loading...</code>
                            
                            <p><strong>Refresh Token:</strong></p>
                            <code id="refreshToken">Loading...</code>
                        </div>
                    </div>
                </section>
            </div>
        </main>
        
        <!-- Footer -->
        <footer class="dashboard-footer">
            <p>&copy; 2025 DataViento. All rights reserved.</p>
        </footer>
    </div>
    
    <!-- Scripts -->
    <script src="/js/auth.js"></script>
    <script src="/js/weather-api-client.js"></script>
    <script src="/js/weather-charts.js"></script>
    <script src="/js/settings.js"></script>
    <script type = "module" src="/js/dashboard.js"></script>
    <link rel="stylesheet" href="/css/chat-widget.css">
    <script type = "module" src="/js/chat-widget.js"></script>
</body>
</html>